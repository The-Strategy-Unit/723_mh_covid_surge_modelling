<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mental Health Covid-19 Surge Modelling • mhSurgeModelling</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Mental Health Covid-19 Surge Modelling">
<meta property="og:description" content="
    A shiny application that provides a Systems-Dynamics model of the surge in demand to Mental Health Services caused
    by the Covid-19 pandemic.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mhSurgeModelling</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/model.html">Model</a>
    </li>
    <li>
      <a href="articles/modelling_assumptions.html">Modelling Assumptions</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/The-Strategy-Unit/723_mh_covid_surge_modelling/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="mental-health-surge-modelling-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#mental-health-surge-modelling-" class="anchor"></a>Mental Health Surge Modelling <a href="https://www.strategyunitwm.nhs.uk/"><img src="https://www.strategyunitwm.nhs.uk/themes/custom/ie_bootstrap/logo.svg" title="The Strategy Unit" alt="The Strategy Unit Logo" align="right" height="80"></a>
</h1></div>
<!-- badges: start -->

<p>This package is a Shiny application to model the surge in mental health needs caused by the COVID-19 pandemic. It is hosted at <a href="https://strategyunit.shinyapps.io/MH_Surge_Modelling/">strategyunit.shinyapps.io/MH_Surge_Modelling</a>. Documentation for the code is available at <a href="https://the-strategy-unit.github.io/723_mh_covid_surge_modelling/index.html">the-strategy-unit.github.io/723_mh_covid_surge_modelling</a>.</p>
<p>The model framework has been guided by literature reviews and expert opinions. Data on population groups is sourced from both routine and local data and variables for the model are based on a mixture of Trust returns and extracts from <a href="https://data.england.nhs.uk/ncdr/database/NHSE_MH_V3_YTD/" title="Mental health data (MHSDS v3)">MHSDS</a> and <a href="https://data.england.nhs.uk/ncdr/database/NHSE_IAPT/" title="Improving access to psychological therapies (IAPT)">IAPT</a> datasets within <a href="https://data.england.nhs.uk/ncdr/about/" title="National Commissioning Data Repository (NCDR)">NCDR</a>.</p>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"The-Strategy-Unit/723_mh_covid_surge_modelling"</span><span class="op">)</span>
<span class="fu">mhSurgeModelling</span><span class="fu">::</span><span class="fu"><a href="reference/run_app.html">run_app</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="project-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#project-structure" class="anchor"></a>Project Structure</h2>
<p>This package uses the <a href="https://github.com/ThinkR-open/golem"><code>{golem}</code></a> framework. All of the code is organised in the <code>R/</code> folder. The files are structured in the following way:</p>
<ul>
<li><p><code>app_*.R</code> files are the main application files</p></li>
<li><p><code>run_app.R</code> is generated by the <a href="https://github.com/ThinkR-open/golem"><code>{golem}</code></a> framework and run’s the entire application</p></li>
<li><p><code>module_*.R</code> files are the shiny modules for the application: each “page” has it’s own module. These files contain both the <code>ui</code> and <code>server</code> functions for that module</p></li>
<li><p><code>plot_*.R</code> files contain the code to produce the data for plots and the corresponding plot function. All plots for the application are generated using the <a href="https://plotly.com/r/"><code>{plotly}</code></a> package</p></li>
<li><p><code>utils_*.R</code> files contain the functions and utilities that are required by the application</p></li>
<li><p><code>ZZZ.R</code> contains extra code, such as what variables to load into the global environment at start up</p></li>
</ul>
<p>Data files required at runtime by the application are stored in the <code>inst/app/data</code> folder:</p>
<ul>
<li><p><code>params_help.json</code> contains the help text used on the <code>params</code> page</p></li>
<li><p><code>params_*.xlsx</code> files are the default parameters files included with the application</p></li>
<li><p><code>report.Rmd</code> is a RMarkdown report used to generate a <code>.pdf</code> download from the application</p></li>
</ul>
</div>
<div id="developing" class="section level2">
<h2 class="hasAnchor">
<a href="#developing" class="anchor"></a>Developing</h2>
<p>If you wish to run this locally, first make a <a href="https://docs.github.com/en/free-pro-team@latest/github/getting-started-with-github/fork-a-repo">fork in GitHub</a>. You can then <a href="https://happygitwithr.com/rstudio-git-github.html#clone-the-new-github-repository-to-your-computer-via-rstudio">clone</a> the repository directly in RStudio.</p>
<p>Once you have the repository cloned, you need to make sure that you have all of the package’s dependencies installed:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_deps.html">install_deps</a></span><span class="op">(</span>dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Once the dependencies are installed the quickest way to run the application is to run the script <code>dev/run_dev.R</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"dev/run_dev.R"</span>, echo <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>As this is a package you need to follow package development practices; reading the <a href="https://r-pkgs.org/index.html">r-pkgs</a> book is a great start. In particular, make sure any dependecies on other packages are stated in the <code>DESCRIPTION</code> file and any functions that you are importing are described using <a href="https://roxygen2.r-lib.org/">roxygen2</a>.</p>
<p>The <code>devtools</code> package is very useful to use during development. You can load the package to test code quickly using <code>devtools::load_all()</code>, and documentation can be re-created using <code>devtools::document()</code>. It is worth running the latter anytime you change code, especially when adding new functions or imports.</p>
<p>It is also worth regularly running <a href="https://r-pkgs.org/r-cmd-check.html">r-cmd-check</a> to quickly identify issues.</p>
<p>The package documentation is built using <a href="https://pkgdown.r-lib.org/">pkgdown</a>. This is done automatically on <a href="#deployment">deployment</a>, but you can view locally by running <code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code>.</p>
</div>
<div id="contributing" class="section level2">
<h2 class="hasAnchor">
<a href="#contributing" class="anchor"></a>Contributing</h2>
<p>Contributions are welcome, but please note that this tool was developed for a specific project, so we may not be able to accept all changes. Please file an <a href="https://github.com/The-Strategy-Unit/723_mh_covid_surge_modelling/issues/new">issue</a> to discuss any bugs or changes before filing a pull request.</p>
</div>
<div id="deployment" class="section level2">
<h2 class="hasAnchor">
<a href="#deployment" class="anchor"></a>Deployment</h2>
<p>This package has been configured to use <a href="https://en.wikipedia.org/wiki/CI/CD">CI/CD</a> with <a href="https://github.com/features/actions">GitHub Actions</a>. There are currently 5 actions:</p>
<ul>
<li>
<a href="https://github.com/jimhester/lintr">lintr</a> runs static code analysis to check for syntactical errors and code styling issues. This runs on all commits.</li>
<li>
<a href="https://r-pkgs.org/r-cmd-check.html">r-cmd-check</a> runs R CMD CHECK. This runs on all commits.</li>
<li>
<a href="https://covr.r-lib.org/">covr</a> uploads test coverage to <a href="https://app.codecov.io/gh/The-Strategy-Unit/723_mh_covid_surge_modelling/">codecov.io</a>
</li>
<li>shiny deploy runs only on successful PR’s to master and deploys the <a href="https://strategyunit.shinyapps.io/MH_Surge_Modelling/">application</a>.</li>
<li>
<a href="https://pkgdown.r-lib.org/">pkgdown</a> runs only on successful PR’s to master and deploys the <a href="https://the-strategy-unit.github.io/723_mh_covid_surge_modelling/index.html">documentation</a>.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/The-Strategy-Unit/723_mh_covid_surge_modelling/">https://​github.com/​The-Strategy-Unit/​723_mh_covid_surge_modelling/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/The-Strategy-Unit/723_mh_covid_surge_modelling/issues">https://​github.com/​The-Strategy-Unit/​723_mh_covid_surge_modelling/​issues</a>
</li>
<li>Run Application at <br><a href="https://strategyunit.shinyapps.io/mh_surge_modelling">https://​strategyunit.shinyapps.io/​mh_surge_modelling</a>
</li>
<li>The Strategy Unit Homepage at <br><a href="https://www.strategyunitwm.nhs.uk/">https://​www.strategyunitwm.nhs.uk/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Tom Jemmett <br><small class="roles"> Maintainer, author </small>  </li>
<li>Victor Yu <br><small class="roles"> Author </small>  </li>
<li>Andrew Hood <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#stable"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://github.com/The-Strategy-Unit/723_mh_covid_surge_modelling/actions"><img src="https://github.com/The-Strategy-Unit/723_mh_covid_surge_modelling/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/The-Strategy-Unit/723_mh_covid_surge_modelling?branch=master"><img src="https://codecov.io/gh/The-Strategy-Unit/723_mh_covid_surge_modelling/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Tom Jemmett, Victor Yu, Andrew Hood.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
